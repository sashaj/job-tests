!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/js/index.js")}({"./node_modules/unfetch/polyfill/polyfill.mjs":
/*!****************************************************!*\
  !*** ./node_modules/unfetch/polyfill/polyfill.mjs ***!
  \****************************************************/
/*! no exports provided */function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/index.mjs */ "./node_modules/unfetch/src/index.mjs");\n\nif (!self.fetch) self.fetch = _src_index_mjs__WEBPACK_IMPORTED_MODULE_0__["default"];\n\n\n//# sourceURL=webpack:///./node_modules/unfetch/polyfill/polyfill.mjs?')},"./node_modules/unfetch/src/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/unfetch/src/index.mjs ***!
  \********************************************/
/*! exports provided: default */function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(JSON.parse(request.responseText)),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n});\n\n\n//# sourceURL=webpack:///./node_modules/unfetch/src/index.mjs?")},"./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var unfetch_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unfetch/polyfill */ \"./node_modules/unfetch/polyfill/polyfill.mjs\");\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    const itemsWrapper = document.querySelector('.items__wrapper');\n    const tos = document.getElementById('tos');\n    const pixabayApiKey = '14156044-2b68e3bb0af34132fe2da85b8';\n    const showMore = document.querySelector('.show-more');\n    const swapiUrl = 'https://swapi.co/api/films';\n    const input = document.querySelector(\".search__input\");\n    const modal = document.querySelector('.modal__loader');\n\n    function sendFetchRequest() {\n        fetch(swapiUrl).then(response => response.json()).then(data => {\n            //for printing 9 items\n            if (data.results.length === 7) {\n                data.results.push(data.results[0], data.results[1]);\n            }\n            imageRequest(data);\n        }).catch(error => {\n            itemsWrapper.innerHTML = \"Ничего не найдено, попробуйте перезагрузить страницу\";\n            modal.classList.add('display-none');\n            showMore.classList.add('display-none');\n            throw new Error(error);\n        });\n    }\n    sendFetchRequest();\n\n    function imageRequest(data) {\n        for (let i = 0; i < data.results.length; i++) {\n            const pixabayUrl = `https://pixabay.com/api/?key=${pixabayApiKey}&q=${data.results[i].title}&image_type=all`;\n            fetch(pixabayUrl).then(response => response.json()).then(json => {\n                printTemplate(data, json, i);\n            }).catch(error => {\n                throw new Error(error);\n            });\n        }\n    }\n\n    function printTemplate(data, img, i) {\n        const itemTemplate = `<div href=\"#\" class=\"item__wrapper\">\n                    <div class=\"item__img\" > <img src=\"${img.hits[0] ? img.hits[0].webformatURL : 'http://placehold.it/260x85?text=Placeholder'}\"></div>\n                    <div class=\"item__desc\">\n                        <a class=\"item__name\" href=\"#\">${data.results[i].title}</a>\n                        <p class=\"item__director\">${data.results[i].director}</p>\n                    </div>\n                </div>`;\n        itemsWrapper.insertAdjacentHTML('beforeend', itemTemplate);\n        modal.classList.add('display-none');\n    }\n\n    function search() {\n        const filter = input.value.toUpperCase();\n        const items = document.querySelectorAll('.item__wrapper');\n        const itemTitle = document.querySelectorAll('.item__name');\n        for (let i = 0; i < items.length; i++) {\n            let txtValue = itemTitle[i].innerText;\n            if (txtValue.toUpperCase().indexOf(filter) > -1) {\n                items[i].style.display = \"\";\n            } else {\n                items[i].style.display = \"none\";\n            }\n        }\n    }\n\n    showMore.addEventListener('click', () => {\n        sendFetchRequest();\n        modal.classList.remove('display-none');\n    });\n\n    input.addEventListener('keyup', () => {\n        search();\n        if (input.value == \"\") {\n            showMore.classList.remove('display-none');\n            console.log(input.value);\n        } else {\n            showMore.classList.add('display-none');\n        }\n    });\n\n    //webp polyfill\n    const webpMachine = new webpHero.WebpMachine();\n    webpMachine.polyfillDocument();\n});\n\n//# sourceURL=webpack:///./src/js/index.js?")}});